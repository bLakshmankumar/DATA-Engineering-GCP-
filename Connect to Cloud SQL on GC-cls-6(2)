Connect to Cloud SQL on GCP: Workbench, Proxy, and Private IP (From Scratch) :
==============================================================================
   Method 1 : Connect from MySQL Workbench :
   =========================================
      This uses Public IP + Authorized Networks
      STEP 1Ô∏è‚É£ Ensure Public IP is enabled :
      --------------------------------------
      Go to:
         GCP Console ‚Üí Cloud SQL ‚Üí Your Instance ‚Üí Connections
      Check:
        ‚úÖ Public IP ‚Üí ENABLED
      If not enabled:
        Click Add Network Interface
        Enable Public IP
     STEP 2Ô∏è‚É£ Add your IP to Authorized Networks :
     ---------------------------------------------
       Still in Connections tab:
         Click Add a network
         Name: my-laptop
         Network:
           Ex : your laptop ip [YOUR_PUBLIC_IP/32]
         Why this is needed?
         --------------------
           Cloud SQL blocks all traffic by default
           Authorized networks act like a firewall
           ‚ùå If you skip this ‚Üí connection will FAIL
        STEP 3Ô∏è‚É£ Enable SSL (Optional but recommended) :
        ------------------------------------------------
           Cloud SQL supports SSL by default.
           Options:
             Without SSL ‚Üí simpler
             With SSL ‚Üí more secure
          üëâ For learning: SSL optional
          üëâ For interviews: say SSL is recommended
        STEP 4Ô∏è‚É£ Get Cloud SQL connection details :
       -------------------------------------------
          From Overview tab:
            Public IP
            Port: 3306
            Username
            Password
          Example : 
             Host: 34.xxx.xxx.xxx
             Port: 3306
             Username: app_user
        STEP 5Ô∏è‚É£ Configure MySQL Workbench :
        ------------------------------------
          Open MySQL Workbench ‚Üí Add new connection
          Fill details:
            Connection Name: cloudsql-mysql
            Hostname: Public IP
            Port: 3306
            Username: DB user
            Password: Store securely
          Click Test Connection
          ‚úÖ If success ‚Üí you‚Äôre connected üéâ

    # Common errors & reasons :
    ---------------------------
         Error	                          Reason
     Can't connect                 	IP not whitelisted
     Access denied	              Wrong username/password
        Timeout                   	Public IP disabled
       SSL error                   	SSL misconfiguration

   Method 2: Cloud SQL Auth Proxy (BEST PRACTICE)
   ==============================================
     üëâ Recommended for production
     üëâ No public IP exposure
     üëâ Uses IAM authentication
     How it works (simple)
     ---------------------
       Proxy runs on your machine
       Secure tunnel to Cloud SQL
       App connects to localhost
     STEP 1Ô∏è‚É£ Install Cloud SQL Auth Proxy :
     ---------------------------------------
      Download binary (Linux / Mac / Windows)
      Example (Linux):
        chmod +x cloud-sql-proxy
      STEP 2Ô∏è‚É£ Authenticate to GCP :
      ------------------------------
        gcloud auth login
        gcloud config set project YOUR_PROJECT_ID
      STEP 3Ô∏è‚É£ Start the proxy :
      --------------------------
          ./cloud-sql-proxy PROJECT_ID:REGION:INSTANCE_NAME --port 3306
        Example output:
          ./cloud-sql-proxy my-proj:asia-south1:orders-db-prod
      STEP 4Ô∏è‚É£ Connect via MySQL Workbench :
      --------------------------------------
         Use :
         -----
            Host: 127.0.0.1 
            Port: 3306
            Username: db_user
            Password: db_password
         ‚úî No IP whitelisting
         ‚úî No public exposure
         ‚úî Very secure
      Interview line :
      ================
        Cloud SQL Auth Proxy is the recommended way to connect securely using IAM without exposing public IPs.

   Method 3: Private IP (VPC-based) :
   =================================
       Used when:
         App runs on GCE, GKE, Cloud Run (VPC connector)
       Steps (High-level)
         Enable Private IP on Cloud SQL
         Configure Private Service Access
         App must be inside same VPC
         Connect using private IP
       Example : 
       ---------
         Host: 10.x.x.x
       ‚úî Best performance
       ‚úî No internet traffic
      ‚ùå Cannot connect directly from laptop

    Method 4: gcloud SQL connect (Quick access) :
    =============================================
       For quick admin access: 
          gcloud sql connect INSTANCE_NAME --user=root
       ‚úî Fast
      ‚ùå Not for apps

   Method 5: From Applications (Real-world) 
   ========================================
      App	                   Recommended
      GKE	               Cloud SQL Connector
    Cloud Run	            Cloud SQL Connector
      VM                	Private IP or Proxy
    Local dev	                 Proxy

  Which method should I say in interviews? 
  ----------------------------------------
     Best interview answer :
       For production, Cloud SQL is accessed using private IP or Cloud SQL Auth Proxy to avoid public exposure.
       For admin or testing, tools like MySQL Workbench can connect using public IP with authorized networks and SSL.

# Connect Cloud SQL from a VM ‚Äî Step by Step :
===============================================
First: Choose the RIGHT connection method
From a VM, you have 3 valid ways:
             Method              	Recommended?	                Why
Cloud SQL Auth Proxy / Connector    	‚≠ê BEST	             Secure, IAM-based
            Private IP	               ‚≠ê BEST        	Internal, high performance
             Public IP	           ‚ùå Not recommended	       Less secure

METHOD 1Ô∏è‚É£ (BEST PRACTICE): Cloud SQL Auth Proxy
------------------------------------------------
   How this works (simple)
      VM authenticates using Service Account
      Proxy creates a secure tunnel
      App connects to localhost
  STEP 1Ô∏è‚É£ Create / choose Service Account :
  ------------------------------------------
    gcloud iam service-accounts create cloudsql-sa
  STEP 2Ô∏è‚É£ Grant required role : [This is mandatory]
  ------------------------------
     gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
     --member="serviceAccount:cloudsql-sa@YOUR_PROJECT_ID.iam.gserviceaccount.com" \
     --role="roles/cloudsql.client"
  STEP 3Ô∏è‚É£ Attach Service Account to VM :
  --------------------------------------
     Go to VM ‚Üí Edit
     Service Account ‚Üí select cloudsql-sa
     Access scope: Allow full access to all Cloud APIs
     üëâ Without this ‚Üí connection fails
  STEP 4Ô∏è‚É£ Install Cloud SQL Auth Proxy on VM :
  ---------------------------------------------
     curl -o cloud-sql-proxy https://storage.googleapis.com/cloud-sql-connectors/cloud-sql-proxy/v2.11.0/cloud-sql-proxy.linux.amd64
     chmod +x cloud-sql-proxy
  STEP 5Ô∏è‚É£ Start the proxy :
  -------------------------
      ./cloud-sql-proxy PROJECT_ID:REGION:INSTANCE_NAME --port=3306
    Example output :
    ----------------
      ./cloud-sql-proxy my-proj:asia-south1:orders-db-prod
   STEP 6Ô∏è‚É£ Connect from VM :
   --------------------------
      mysql -h 127.0.0.1 -P 3306 -u app_user -p
   ‚úî Secure
   ‚úî No public IP
   ‚úî IAM-based
   Interview line :
   ----------------
     The Cloud SQL Auth Proxy is the recommended way to connect from a VM because it uses IAM authentication and avoids public exposure.

METHOD 2Ô∏è‚É£: Private IP (High performance) :
------------------------------------------
  When to use
    VM and Cloud SQL in same VPC
    Low latency needed
  STEP 1Ô∏è‚É£ Enable Private IP on Cloud SQL
  ----------------------------------------
     Cloud SQL ‚Üí Connections ‚Üí Private IP ‚Üí Enable
     (Private Service Access must be configured)
  STEP 2Ô∏è‚É£ Get Private IP
  -----------------------
    Example : 10.34.0.5
  STEP 3Ô∏è‚É£ Connect from VM :
  --------------------------
    mysql -h 10.34.0.5 -u app_user -p
    ‚úî Fast
    ‚úî Internal only
    ‚ùå Requires VPC setup
  Interview line :
    Private IP is preferred for internal VM-based workloads due to low latency and high security.



