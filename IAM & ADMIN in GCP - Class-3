Explanation of IAM & Admin in GCP :
=================================
IAM in GCP is used to control access to cloud resources by defining who can perform what actions on which resources.
It works using identities, roles, and permissions applied through IAM policies.
GCP follows a hierarchical resource model where permissions inherit from organization to project to resources.
For security, we follow least privilege, avoid basic roles, use service accounts for workloads, and manage access via groups.

What is IAM in GCP? :
=====================
IAM (Identity and Access Management) in GCP controls
who can do what on which resource.
  In short:
    Who ‚Üí Identity    :
    What ‚Üí Permission
    Which resource ‚Üí GCP resource (project, VM, bucket, etc.)
IAM works using 4 main components:
  Identity ‚Üí Role ‚Üí Permissions ‚Üí Resource
Let‚Äôs break them down üëá :
---------------------------
 1. Identity (WHO) :
      An identity is someone or something that needs access.
      Types of identities:
        Google user ‚Üí user@gmail.com
        Service account ‚Üí application or VM identity
        Google group ‚Üí team-based access
        Domain ‚Üí entire organization
     üëâ Best practice:
           Give access to groups, not individual users.
 2. Permissions (WHAT actions)
      Permissions define exact actions allowed.
      Examples:
        compute.instances.start
        storage.objects.get
        container.pods.list
     ‚ö†Ô∏è We never assign permissions directly ‚Äî they are grouped into roles.
 3. Roles (Collection of permissions)
      "A role is a set of permissions".
        Types of roles in GCP:
          Role Type	Description
            Basic roles	Owner, Editor, Viewer (broad, not recommended)
            Predefined roles	Service-specific, recommended
            Custom roles	Created by you, least privilege
      Example:
        roles/compute.admin
        roles/storage.objectViewer
        roles/container.developer
   üëâ Interview Tip:
        Always say ‚ÄúWe prefer predefined or custom roles over basic roles.‚Äù
 4. Resources (WHERE access applies)
      IAM policies are applied to resources, such as:
        Organization
        Folder
        Project
        Specific resource (VM, bucket, dataset)
      Resource hierarchy:
        Organization
          ‚îî‚îÄ‚îÄ Folder
                ‚îî‚îÄ‚îÄ Project
                      ‚îî‚îÄ‚îÄ Resources (VM, GKE, Storage)
  5. IAM Policy (How access is granted) :
       Role = What actions are allowed
       IAM Policy = Who gets that role, and on which resource
     Important:
       A role does nothing by itself
       It must be attached via an IAM policy 
     Where IAM Policies are applied :
        IAM policies are attached to resources, such as:
          Organization
          Folder
          Project
          Specific resource (bucket, VM, topic)

     ## Can we assign permissions directly to a user?
     ## ANS : No. Permissions are always assigned through roles, and roles are granted via IAM policies.

# How IAM works in the background (GCP internals ‚Äì simplified) :
================================================================
When a user or service tries to access a resource:
  Step-by-step flow:
    Authentication
      Who are you? (Google account / service account)
    Authorization
      GCP checks IAM policies attached to:
      Resource
      Parent project
      Folder
      Organization
      Permission evaluation
    GCP checks:
      Does any policy grant a role that contains the required permission?
        Decision
          ‚úÖ Allowed ‚Üí request proceeds
          ‚ùå Denied ‚Üí 403 error
        Important:
          IAM policies are additive (no deny rules in standard IAM).

# How to configure Role & Policy (Step-by-step) :
=================================================
  1. Assign a predefined role (Most common) :
     Using GCP Console:
       Go to IAM & Admin ‚Üí IAM
       Select project
       Click Grant Access
       Add:
         Member (user / group / service account)
         Role (e.g., roles/container.developer)
       Save
       ‚úî This creates an IAM policy binding
    2. Create a custom role :
       Go to IAM & Admin ‚Üí Roles
       Create Custom Role
       Select permissions
       Save
       Example : Custom Role: vm-start-stop
         Permissions:
         - compute.instances.start
         - compute.instances.stop 
     3. Attach custom role via policy :
          Same as predefined:
            Add member
            Select custom role
            Save
# Role vs Policy(Interview perspective) :
A role is a set of permissions that defines what actions are allowed.
An IAM policy is what actually grants access by binding a role to an identity on a resource.
When a request is made, GCP evaluates IAM policies on the resource hierarchy and checks whether the assigned role contains the required permission.
Access is granted only if both the identity and permission match.
